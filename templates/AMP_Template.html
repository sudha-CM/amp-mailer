<!doctype html>
<html âš¡4email>
  <head>
    <meta charset="utf-8">
    <style amp4email-boilerplate>body{visibility:hidden}</style>

    <!-- Core AMP -->
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    <!-- Needed for forms & multi-step quiz -->
    <script async custom-element="amp-form" src="https://cdn.ampproject.org/v0/amp-form-0.1.js"></script>
    <script async custom-element="amp-bind" src="https://cdn.ampproject.org/v0/amp-bind-0.1.js"></script>

    <title>Preference Quiz Email</title>

    <style amp-custom>
      body {
        padding: 0;
        margin: 0;
        background: #ffffff;
        font-family: Arial, Helvetica, sans-serif;
        font-size: 14px;
        color: #555555;
      }
      table {
        border-collapse: collapse;
        border-spacing: 0;
      }
      img {
        border: 0;
        line-height: 100%;
        outline: none;
        text-decoration: none;
      }
      .w600 {
        width: 600px;
      }
      .deviceWidth {
        width: 100%;
        padding: 0;
      }

      .quiz_box {
        position: relative;
      }
      .quiz_box input {
        position: absolute;
        opacity: 0;
      }
      .quiz_box label {
        font-weight: 400;
        font-size: 1rem;
        line-height: 1.25;
        color: #000000;
        background-color: #ffffff;
        border: 1px solid #69655f;
        padding: 5px;
        border-radius: 2px;
        text-align: center;
        cursor: pointer;
        min-height: 75px;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-wrap: wrap;
      }
      .quiz_box input:checked + label {
        border: 1px solid #69655f;
        background-color: #c3d4ff;
      }
      .quiz_box div {
        flex: 0 0 auto;
        width: 100%;
      }

      .quiz-title {
        font-size: 1.35rem;
        font-weight: 700;
        line-height: 1.1;
        margin: 0;
        padding: 0;
        color: #000000;
        text-align: center;
        letter-spacing: 0.5px;
        transform: scale(1, 0.9);
      }

      .quiz-text-question {
        font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
        font-size: 1rem;
      }

      .quiz-submit {
        font-size: 1rem;
        min-height: 50px;
        padding: 10px 20px;
        font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
        font-weight: 600;
        line-height: 1.1;
        color: #ffffff;
        background-color: #000000;
        margin: 0;
        border: none;
        box-shadow: none;
        width: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        text-transform: uppercase;
        letter-spacing: 1px;
        cursor: pointer;
        box-sizing: border-box;
      }

      .quiz-product-title {
        font-size: 1.25rem;
        font-weight: 700;
        line-height: 1.1;
        margin: 0;
        padding: 0;
        color: #000000;
        text-align: center;
        letter-spacing: 0.5px;
        transform: scale(1, 0.9);
      }

      .displayBlock { display: block; }
      .displayNone { display: none; }
      .hide { display: none !important; }

      @media all and (max-width: 500px) {
        .w600 { width: 100%; }
        .quiz-title { font-size: 1.1rem; }
        .quiz_box label { font-size: 0.875rem; }
        .quiz-submit { font-size: 0.875rem; min-height: 45px; padding: 7px 15px; }
        .quiz-text-question { font-size: 0.875rem; }
        .quiz-product-title { font-size: 1.1rem; }
      }
    </style>
  </head>

  <body style="margin:0; padding:0; background-color:#ffffff;">
    <!-- AMP state objects for multi-step quiz -->
    <amp-state id="responseDataQuestion1">
      <script type="application/json">
        {"status": "", "message": "", "last_query_id": "", "answer": ""}
      </script>
    </amp-state>

    <amp-state id="responseDataQuestion2">
      <script type="application/json">
        {"status": "", "message": "", "last_query_id": ""}
      </script>
    </amp-state>

    <div style="margin:0;padding:0;min-width:100%;">
      <div style="width:100%;">
        <div class="w600" style="margin:0 auto;padding:0px;background:#ffffff;">
          <table width="100%" border="0" cellspacing="0" cellpadding="0">
            <tr>
              <td align="center" style="padding:0;margin:0;">
                <div style="padding: 10px 0;"></div>

                <!-- LOGO -->
                <div class="{{logo_wrap_class}}" style="max-width: 1000px;margin: 20px auto 0;">
                  <a href="{{cta_url}}" target="_blank" style="color:#15c; text-decoration:underline;">
                    <amp-img
                      alt="Logo"
                      title="Logo"
                      layout="responsive"
                      src="{{logo_img_url}}"
                      width="{{logo_width}}"
                      height="{{logo_height}}"
                      style="height:auto;max-width:100%;display:block;">
                    </amp-img>
                  </a>
                </div>

                <!-- HERO 1 -->
                <div class="{{hero_wrap_class}}">
                  <a href="{{cta_url}}" target="_blank" style="color:#15c; text-decoration:underline;">
                    <amp-img
                      alt="Hero Image"
                      title="Hero Image"
                      layout="responsive"
                      src="{{hero_img_url}}"
                      width="{{hero_width}}"
                      height="{{hero_height}}"
                      style="display:block;">
                    </amp-img>
                  </a>
                </div>

                <!-- HERO 2 -->
                <div class="{{hero2_wrap_class}}">
                  <a href="{{cta_url}}" target="_blank" style="color:#15c; text-decoration:underline;">
                    <amp-img
                      alt="Hero Image 2"
                      title="Hero Image 2"
                      layout="responsive"
                      src="{{hero2_img_url}}"
                      width="{{hero2_width}}"
                      height="{{hero2_height}}"
                      style="display:block;">
                    </amp-img>
                  </a>
                </div>

                <div style="padding: 10px 0;"></div>

                <!-- QUIZ + PRODUCT SECTION -->
                <div>
                  <div style="background-color: #ffff;padding: 10px 10px 20px;">
                    <div style="max-width: 534px;margin: 0 auto;">

                      <!-- Quiz image -->
                      <div class="{{quiz_wrap_class}}" style="margin-bottom: 10px;">
                        <amp-img
                          alt="Quiz Image"
                          title="Quiz Image"
                          layout="responsive"
                          src="{{quiz_img_url}}"
                          width="{{quiz_width}}"
                          height="{{quiz_height}}"
                          style="display:block;">
                        </amp-img>
                      </div>

                      <!-- Info text (optional) -->
                      <div [class]="responseDataQuestion1.status == 'success' && responseDataQuestion2.status == 'success' ? 'displayNone':'displayBlock'" class="displayBlock" style="margin-bottom: 15px;">
                        <!-- could add a generic intro here if needed -->
                      </div>

                      <!-- ========== SCREEN 1 (Q1) ========== -->
                      <div [class]="responseDataQuestion1.status == 'success' ? 'displayNone':'displayBlock'" class="displayBlock">
                        <form
                          action-xhr="https://newdell38.mytoday.com/AMP/pattern_beauty_25july2024/pattern_beauty_quiz_api_20240801.php"
                          id="form1"
                          method="post"
                          on="submit-success:AMP.setState({
                                responseDataQuestion1: {
                                  status: event.response.status,
                                  message: event.response.message,
                                  last_query_id: event.response.oid,
                                  answer: event.response.answer
                                }
                              });">

                          <div style="padding: 10px 0;">
                            <div style="font-family: 'Helvetica', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;">
                              <h3 class="quiz-title">
                                {{quiz_question}}
                              </h3>
                            </div>

                            <div style="padding: 10px 0;"></div>

                            <div style="display: flex;flex-wrap: wrap;justify-content: space-between;">

                              <!-- Q1 Option 1 -->
                              <div style="margin-bottom: 4px;flex: 0 0 auto;width: calc(50% - 2px);">
                                <div class="quiz_box" style="font-family: 'Helvetica', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;">
                                  <input id="a_quiz1" name="answer_1" required type="radio" value="Curly">
                                  <label for="a_quiz1">
                                    <div style="flex: 0 0 auto;width: 100%;">{{quiz_opt1_label}}</div>
                                  </label>
                                </div>
                              </div>

                              <!-- Q1 Option 2 -->
                              <div style="margin-bottom: 4px;flex: 0 0 auto;width: calc(50% - 2px);">
                                <div class="quiz_box" style="font-family: 'Helvetica', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;">
                                  <input id="a_quiz2" name="answer_1" required type="radio" value="Coily">
                                  <label for="a_quiz2">
                                    <div style="flex: 0 0 auto;width: 100%;">{{quiz_opt2_label}}</div>
                                  </label>
                                </div>
                              </div>

                              <!-- Q1 Option 3 -->
                              <div style="margin-bottom: 4px;flex: 0 0 auto;width: calc(50% - 2px);">
                                <div class="quiz_box" style="font-family: 'Helvetica', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;">
                                  <input id="a_quiz3" name="answer_1" required type="radio" value="Tight Texture">
                                  <label for="a_quiz3">
                                    <div style="flex: 0 0 auto;width: 100%;">{{quiz_opt3_label}}</div>
                                  </label>
                                </div>
                              </div>

                              <!-- Q1 Option 4 -->
                              <div style="margin-bottom: 4px;flex: 0 0 auto;width: calc(50% - 2px);">
                                <div class="quiz_box" style="font-family: 'Helvetica', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;">
                                  <input id="a_quiz4" name="answer_1" required type="radio" value="Locs/Protective Styles">
                                  <label for="a_quiz4">
                                    <div style="flex: 0 0 auto;width: 100%;">{{quiz_opt4_label}}</div>
                                  </label>
                                </div>
                              </div>
                            </div>

                            <!-- Hidden fields (keep as-is for now; these are AMP backend-related) -->
                            <input name="subscriber_email" type="hidden" value="[EMAIL]">
                            <input name="campaign_id" type="hidden" value="[SMT_MID]">
                            <input name="request_form_type" type="hidden" value="AMP">
                            <input name="form_no" type="hidden" value="1">

                            <p style="padding: 10px 0;margin: 0;"></p>

                            <div class="loader-block mt25 mt15" submitting>
                              <amp-img
                                alt="loader gif"
                                height="59"
                                width="60"
                                src="https://prashnam-team.s3.ap-south-1.amazonaws.com/icici_prudential_sip_renewal_2024_06_19/loder.gif">
                              </amp-img>
                            </div>

                            <div style="text-align: center;">
                              <button class="quiz-submit" type="submit">
                                Next
                              </button>
                            </div>
                          </div>

                          <div [class]="responseDataQuestion1.status == 'error' ? 'displayBlock':'displayNone'" class="displayNone" style="margin-top: 20px; color:#ff0000">
                            <span [text]="responseDataQuestion1.message">Something went wrong.... please try again</span>
                          </div>
                        </form>
                      </div>
                      <!-- ========== END SCREEN 1 ========== -->

                      <!-- ========== SCREEN 2 (Q2) ========== -->
                      <div [class]="responseDataQuestion1.status == 'success' ? responseDataQuestion2.status == 'success' ? 'displayNone':'displayBlock':'displayNone'" class="displayNone">
                        <form
                          action-xhr="https://newdell38.mytoday.com/AMP/pattern_beauty_25july2024/pattern_beauty_quiz_api_20240801.php"
                          id="form2"
                          method="post"
                          on="submit-success:AMP.setState({
                                responseDataQuestion2: {
                                  status: event.response.status,
                                  message: event.response.message,
                                  last_query_id: event.response.oid
                                }
                              });">

                          <div style="padding: 10px 0;">
                            <div style="font-family: 'Helvetica', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;">
                              <h3 class="quiz-title">
                                {{quiz2_question}}
                              </h3>
                            </div>

                            <div style="padding: 10px 0;"></div>

                            <div style="display: flex;flex-wrap: wrap;justify-content: space-between;">

                              <!-- Q2 Option 1 -->
                              <div style="margin-bottom: 4px;flex: 0 0 auto;width: calc(50% - 2px);">
                                <div class="quiz_box" style="font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;">
                                  <input id="b_quiz1" name="answer_2" type="radio" value="Wash & Go / Twists Outs">
                                  <label for="b_quiz1">
                                    <div style="flex: 0 0 auto;width: 100%;">{{quiz2_opt1_label}}</div>
                                  </label>
                                </div>
                              </div>

                              <!-- Q2 Option 2 -->
                              <div style="margin-bottom: 4px;flex: 0 0 auto;width: calc(50% - 2px);">
                                <div class="quiz_box" style="font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;">
                                  <input id="b_quiz2" name="answer_2" type="radio" value="Locs/Protective Styles">
                                  <label for="b_quiz2">
                                    <div style="flex: 0 0 auto;width: 100%;">{{quiz2_opt2_label}}</div>
                                  </label>
                                </div>
                              </div>

                              <!-- Q2 Option 3 -->
                              <div style="margin-bottom: 4px;flex: 0 0 auto;width: calc(50% - 2px);">
                                <div class="quiz_box" style="font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;">
                                  <input id="b_quiz3" name="answer_2" type="radio" value="Extensions/Wigs">
                                  <label for="b_quiz3">
                                    <div style="flex: 0 0 auto;width: 100%;">{{quiz2_opt3_label}}</div>
                                  </label>
                                </div>
                              </div>

                              <!-- Q2 Option 4 -->
                              <div style="margin-bottom: 4px;flex: 0 0 auto;width: calc(50% - 2px);">
                                <div class="quiz_box" style="font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;">
                                  <input id="b_quiz4" name="answer_2" type="radio" value="Top Knot / Bun">
                                  <label for="b_quiz4">
                                    <div style="flex: 0 0 auto;width: 100%;">{{quiz2_opt4_label}}</div>
                                  </label>
                                </div>
                              </div>
                            </div>

                            <!-- Hidden fields -->
                            <input name="subscriber_email" type="hidden" value="[EMAIL]">
                            <input name="campaign_id" type="hidden" value="[SMT_MID]">
                            <input [value]="responseDataQuestion1.last_query_id" name="last_query_id" type="hidden">
                            <input name="form_no" type="hidden" value="2">

                            <p style="padding: 10px 0;margin: 0;"></p>

                            <div class="loader-block mt25 mt15" submitting>
                              <amp-img
                                alt="loader gif"
                                height="59"
                                width="60"
                                src="https://prashnam-team.s3.ap-south-1.amazonaws.com/icici_prudential_sip_renewal_2024_06_19/loder.gif">
                              </amp-img>
                            </div>

                            <div style="text-align: center;">
                              <button class="quiz-submit" type="submit">
                                Next
                              </button>
                            </div>

                            <div [class]="responseDataQuestion2.status == 'error' ? 'displayBlock':'displayNone'" class="displayNone" style="margin-top: 20px; color:#ff0000">
                              <span [text]="responseDataQuestion2.message">Something went wrong.... please try again</span>
                            </div>
                          </div>
                        </form>
                      </div>
                      <!-- ========== END SCREEN 2 ========== -->

                      <!-- ========== SUCCESS PRODUCT CARD (AFTER Q2) ========== -->
                      <div [class]="responseDataQuestion2.status == 'success' ? 'displayBlock':'displayNone'" class="displayNone">
                        <div style="max-width: 375px;margin: 0 auto;">
                          <div style="margin: 10px 0;">
                            <div style="background-color: #ffffff;padding: 10px;">
                              <div class="quiz_thumb_box" style="font-family: 'Helvetica', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;">
                                <div class="{{quiz_product_wrap_class}}">
                                  <a href="{{quiz_product_url}}" style="color:#15c; font-style:normal; font-weight:normal; text-decoration:underline" target="_blank">
                                    <amp-img
                                      alt="Quiz Product Image"
                                      title="Quiz Product Image"
                                      layout="responsive"
                                      src="{{quiz_product_img_url}}"
                                      width="{{quiz_product_width}}"
                                      height="{{quiz_product_height}}"
                                      style="display:block;">
                                    </amp-img>
                                  </a>
                                </div>
                                <div style="font-family: 'Helvetica', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;padding: 10px 0;">
                                  <h3 class="quiz-product-title">
                                    We think you'll love this
                                  </h3>
                                </div>
                                <div style="text-align: center;">
                                  <a class="quiz-submit" href="{{quiz_product_url}}" target="_blank">
                                    Shop Now
                                  </a>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!-- ========== END SUCCESS PRODUCT CARD ========== -->
                    </div>
                  </div>
                </div>

                <!-- FOOTER IMAGES -->
            <div>
                <div class="{{footer1_wrap_class}}">
                  <a href="{{cta_url}}" target="_blank" style="color:#15c; text-decoration:underline;">
                    <amp-img
                      alt="Footer Image 1"
                      title="Footer Image 1"
                      layout="responsive"
                      src="{{footer1_img_url}}"
                      width="{{footer1_width}}"
                      height="{{footer1_height}}"
                      style="display:block;">
                    </amp-img>
                  </a>
                    </div>

                <div class="{{footer2_wrap_class}}">
                  <a href="{{cta_url}}" target="_blank" style="color:#15c; text-decoration:underline;">
                    <amp-img
                      alt="Footer Image 2"
                      title="Footer Image 2"
                      layout="responsive"
                      src="{{footer2_img_url}}"
                      width="{{footer2_width}}"
                      height="{{footer2_height}}"
                      style="display:block;">
                    </amp-img>
                  </a>
                </div>
            </div>

                <div style="padding: 10px 0;"></div>
              </td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </body>
</html>
